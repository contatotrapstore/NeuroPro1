# NeuroIA Lab

Uma plataforma SaaS especializada em saÃºde mental que oferece acesso a 19 assistentes de inteligÃªncia artificial especializados em diferentes Ã¡reas da prÃ¡tica psicolÃ³gica, incluindo as novas Ã¡reas de **NeuromodulaÃ§Ã£o** e **Terapia Ocupacional**.

**ğŸš€ VersÃ£o Atual**: v3.2.0 - Sistema de Pacotes Completo e Funcional

## âœ… Status do Sistema
- ğŸŸ¢ **Frontend**: 100% funcional
- ğŸŸ¢ **Backend**: 100% funcional
- ğŸŸ¢ **AutenticaÃ§Ã£o**: 100% funcional
- ğŸŸ¢ **Chat/Assistentes**: 100% funcional
- ğŸŸ¢ **Sistema de Pacotes**: 100% funcional âœ¨ NOVO
- ğŸŸ¢ **Pagamentos PIX**: 100% funcional
- ğŸŸ¡ **Pagamentos CartÃ£o**: Temporariamente desabilitado (em correÃ§Ã£o)
- ğŸŸ¢ **Webhooks Asaas**: 100% funcional
- ğŸŸ¢ **Deploy Vercel**: 100% funcional

> **âš ï¸ Nota**: CartÃ£o de crÃ©dito temporariamente indisponÃ­vel devido a problema de autorizaÃ§Ã£o. PIX funcionando perfeitamente. Ver `PAYMENT_STATUS_2025.md` para detalhes.

## ğŸ§  Sobre o Projeto

A NeuroIA Lab democratiza o acesso a assistentes de IA especializados em psicologia para apoiar profissionais da Ã¡rea em suas prÃ¡ticas clÃ­nicas e administrativas.

### PÃºblico-alvo
- **PsicÃ³logos** e **Psicopedagogos**
- **FonoaudiÃ³logos** especializados
- **Profissionais de NeuromodulaÃ§Ã£o**
- **Terapeutas Ocupacionais**
- **Estudantes** das Ã¡reas de saÃºde mental
- **ClÃ­nicas** e centros de reabilitaÃ§Ã£o

### Modelo de NegÃ³cio
- **Assinatura Individual**: R$ 39,90/mÃªs ou R$ 199,00/semestre por assistente
- **Pacotes PersonalizÃ¡veis** âœ¨ **NOVO**:
  - **3 Assistentes**: R$ 99,90/mÃªs ou R$ 499,00/semestre (economia de 17%)
  - **6 Assistentes**: R$ 179,90/mÃªs ou R$ 899,00/semestre (economia de 25%)
  - **Sistema Inteligente**: ValidaÃ§Ã£o automÃ¡tica de seleÃ§Ã£o e duplicatas
  - **Flexibilidade Total**: Escolha qualquer combinaÃ§Ã£o de assistentes

## ğŸ¯ Ãreas Especializadas

A NeuroIA Lab atende **5 Ã¡reas distintas** da saÃºde mental e reabilitaÃ§Ã£o:

### ğŸ§  **Psicologia** (Ãrea Principal)
- Assistentes para todas as abordagens terapÃªuticas
- ElaboraÃ§Ã£o de laudos e avaliaÃ§Ãµes
- Treinamento e simulaÃ§Ã£o clÃ­nica

### ğŸ“š **Psicopedagogia**
- Assistentes especializados em dificuldades de aprendizagem
- AvaliaÃ§Ã£o e intervenÃ§Ã£o psicopedagÃ³gica
- EstratÃ©gias educacionais personalizadas

### ğŸ—£ï¸ **Fonoaudiologia**
- Assistentes para distÃºrbios da comunicaÃ§Ã£o
- AvaliaÃ§Ã£o e terapia da linguagem
- ReabilitaÃ§Ã£o audiolÃ³gica

### âš¡ **NeuromodulaÃ§Ã£o** (NOVO!)
- Assistentes especializados em estimulaÃ§Ã£o cerebral
- Protocolos de neurofeedback
- Terapias de neuroestimulaÃ§Ã£o

### ğŸ–ï¸ **Terapia Ocupacional** (NOVO!)
- Assistentes para reabilitaÃ§Ã£o funcional
- AdaptaÃ§Ãµes e tecnologia assistiva
- IntegraÃ§Ã£o sensorial e atividades de vida diÃ¡ria

## ğŸ¤– 19 Assistentes Especializados

1. **PsicoPlano** - Formulador de Roteiro TerapÃªutico
2. **NeuroCase** - Revisor de Quadro ClÃ­nico
3. **Guia Ã‰tico** - AvaliaÃ§Ã£o Profissional e AutorreflexÃ£o
4. **SessÃ£oMap** - Formulador de Estrutura de SessÃ£o
5. **ClinReplay** - Treinador de SessÃ£o (IA paciente)
6. **CognitiMap** - Construtor de Caminhos de ReestruturaÃ§Ã£o Cognitiva
7. **MindRoute** - Orientador de Abordagens PsicolÃ³gicas
8. **TheraTrack** - Avaliador de EvoluÃ§Ã£o TerapÃªutica
9. **NeuroLaudo** - Elaborador de Laudo PsicolÃ³gico
10. **PsicoTest** - Consultor de Testes PsicolÃ³gicos
11. **TheraFocus** - Organizador de IntervenÃ§Ãµes para Transtornos EspecÃ­ficos
12. **PsicoBase** - Formulador de EstratÃ©gias ClÃ­nicas Baseadas em EvidÃªncias
13. **MindHome** - Elaborador de Atividades Domiciliares TerapÃªuticas
14. **ClinPrice** - Avaliador de Custos de SessÃµes ClÃ­nicas
15. **Harmonia SistÃªmica** - Assistente de Terapia Familiar e SistÃªmica
16. **NeuroABA** - Assistente de AnÃ¡lise do Comportamento Aplicada
17. **PsicopedIA** - Assistente de Psicopedagogia e Aprendizagem
18. **TheraCasal** - Assistente de Terapia de Casal
19. **Simulador de Paciente de PsicanÃ¡lise** - Simulador com Feedback ClÃ­nico

## ğŸ› ï¸ Stack TecnolÃ³gica

### Frontend
- React 18 + TypeScript
- Tailwind CSS with custom NeuroIA Lab theme
- Vite for build tooling
- React Router with protected routes
- Supabase Client for auth and database
- Professional SVG icon system
- Responsive mobile-first design

### Backend
- Node.js + Express + TypeScript
- Supabase (PostgreSQL + Auth + RLS)
- OpenAI Assistants API integration
- Asaas Payment Gateway (Brazilian payments)
- Redis caching for performance
- Comprehensive admin API endpoints

### Admin Panel
- **Secure Admin Dashboard** with real-time statistics
- **User Management** - Complete user oversight and management
- **Subscription Control** - Full subscription lifecycle management  
- **Revenue Tracking** - Real-time financial analytics
- **Role-based Access** - Admin authentication and authorization
### Infraestrutura
- VPS Linux (Ubuntu)
- PM2
- Nginx
- SSL/HTTPS

## ğŸš€ Como Executar

### PrÃ©-requisitos
- Node.js 18+ instalado
- npm ou yarn
- Conta no Supabase (banco de dados)
- Chave OpenAI API (para IAs)
- Conta Asaas (pagamentos - opcional)

### InstalaÃ§Ã£o RÃ¡pida
```bash
# Clone o repositÃ³rio
git clone https://github.com/seu-usuario/neuroai-lab.git
cd neuroai-lab

# Instalar todas as dependÃªncias
npm run install:all

# Configurar variÃ¡veis de ambiente (jÃ¡ prÃ©-configuradas!)
cp backend/.env.example backend/.env  # (opcional, jÃ¡ estÃ¡ configurado)
cp frontend/.env.example frontend/.env  # (opcional, jÃ¡ estÃ¡ configurado)

# Executar em modo desenvolvimento
npm run dev
```

### Scripts DisponÃ­veis
- `npm run dev` - Executa frontend (5173) e backend (3000)
- `npm run build` - Build completo para produÃ§Ã£o
- `npm run dev:frontend` - Apenas frontend React
- `npm run dev:backend` - Apenas backend API

## âœ… Status da Plataforma

### ğŸŒ ProduÃ§Ã£o
- **URL**: https://www.neuroialab.com.br
- **Status**: âœ… Online e funcionando
- **AutenticaÃ§Ã£o**: âœ… Login, registro e reset de senha funcionando
- **Chat com IAs**: âœ… Todos os 19 assistentes operacionais
- **Pagamentos**: âœ… IntegraÃ§Ã£o Asaas ativa
- **Admin Panel**: âœ… Painel administrativo completo

### ğŸ” Sistema de Reset de Senha
- **Status**: âœ… Completamente reformulado (v2.3.2)
- **Fluxo**: Uso correto de eventos PASSWORD_RECOVERY do Supabase
- **UX**: Interface intuitiva e feedback claro
- **URLs**: DomÃ­nio principal www.neuroialab.com.br

### âš¡ Start RÃ¡pido
Depois de clonar:
```bash
npm run install:all && npm run dev
```
Acesse: `http://localhost:5173`

## ğŸš€ Deploy no Vercel

### ConfiguraÃ§Ã£o AutomÃ¡tica
O projeto estÃ¡ prÃ©-configurado para deploy no Vercel:

1. **Fork/Clone** este repositÃ³rio
2. **Conecte** ao Vercel Dashboard
3. **Configure variÃ¡veis** de ambiente no Vercel:
   - `SUPABASE_URL`
   - `SUPABASE_SERVICE_KEY` 
   - `SUPABASE_ANON_KEY`
   - `OPENAI_API_KEY`
   - `JWT_SECRET`
   - `ASAAS_API_KEY`
4. **Deploy automÃ¡tico** âœ¨

### Arquivos de ConfiguraÃ§Ã£o
- âœ… `vercel.json` - ConfiguraÃ§Ã£o principal
- âœ… `VERCEL_DEPLOY.md` - Guia detalhado
- âœ… VariÃ¡veis de ambiente prÃ©-configuradas

**Resultado**: AplicaÃ§Ã£o completa rodando em produÃ§Ã£o!

## ğŸ“ Estrutura do Projeto

```
/
â”œâ”€â”€ frontend/          # AplicaÃ§Ã£o React
â”œâ”€â”€ backend/           # API Node.js
â”œâ”€â”€ .trae/            # DocumentaÃ§Ã£o tÃ©cnica
â”œâ”€â”€ CLAUDE.md         # Guia para Claude Code
â””â”€â”€ package.json      # ConfiguraÃ§Ã£o do monorepo
```

## ğŸ¨ Identidade Visual

### Paleta de Cores
- **Verde Principal**: `#0E1E03`
- **Verde SecundÃ¡rio**: `#1A3A0F`
- **Verde Claro**: `#2D5A1F`
- **Cinza Escuro**: `#1F2937`
- **Azul de Apoio**: `#1E40AF`

## ğŸ“„ DocumentaÃ§Ã£o

### ğŸ¯ **Acesso RÃ¡pido**
- **[ğŸ“š Ãndice Mestre](docs/INDEX.md)** - Central de toda a documentaÃ§Ã£o
- **[ğŸ‘¨â€âš•ï¸ Manual do UsuÃ¡rio](docs/user/README.md)** - Guia para profissionais de saÃºde
- **[ğŸš€ Primeiros Passos](docs/user/getting-started.md)** - Setup em 5 minutos
- **[ğŸ’» API Documentation](docs/api/README.md)** - ReferÃªncia completa da API

### ğŸ—ï¸ **DocumentaÃ§Ã£o TÃ©cnica**
- **[ğŸ›ï¸ System Architecture](docs/architecture/README.md)** - Arquitetura do sistema
- **[ğŸ—„ï¸ Database Schema](docs/architecture/database-schema.md)** - Modelo de dados
- **[âš™ï¸ Admin Guide](docs/admin/ADMIN_GUIDE.md)** - Painel administrativo
- **[ğŸ”§ Deploy Instructions](DEPLOY_INSTRUCTIONS.md)** - Deploy no Vercel
- **[ğŸ“‹ CHANGELOG](CHANGELOG.md)** - HistÃ³rico de versÃµes

### ğŸ“š **Por Ãrea de EspecializaÃ§Ã£o**
- **ğŸ§  Psicologia**: 14 assistentes especializados
- **ğŸ“š Psicopedagogia**: Dificuldades de aprendizagem
- **ğŸ—£ï¸ Fonoaudiologia**: DistÃºrbios da comunicaÃ§Ã£o
- **âš¡ NeuromodulaÃ§Ã£o**: EstimulaÃ§Ã£o cerebral (NOVO!)
- **ğŸ–ï¸ Terapia Ocupacional**: ReabilitaÃ§Ã£o funcional (NOVO!)

## ğŸ” SeguranÃ§a

- AutenticaÃ§Ã£o via Supabase Auth
- Row Level Security (RLS)
- ValidaÃ§Ã£o de JWT tokens
- Rate limiting
- ValidaÃ§Ã£o de input
- CORS configurado

## ğŸ“ˆ Funcionalidades Principais

### âœ… Implementado
- **Sistema de autenticaÃ§Ã£o seguro** via Supabase
- **ğŸ†• Acesso pÃºblico sem login obrigatÃ³rio** - NavegaÃ§Ã£o livre na loja e dashboard
- **Chat profissional** com 14 assistentes especializados via OpenAI
- **Assinaturas individuais** e **pacotes personalizÃ¡veis** (3 ou 6 assistentes)
- **ğŸ†• Painel administrativo completo** com dados em tempo real e sincronizaÃ§Ã£o de preÃ§os
- **Sistema de pagamentos** integrado com Asaas (PIX, boleto, cartÃ£o)
- **Dashboard responsivo** e intuitivo com design profissional
- **ğŸ†• Ãcones SVG profissionais** para todos os assistentes
- **ğŸ†• Interface admin** para gerenciamento de usuÃ¡rios e assinaturas
- **ğŸ†• Sistema de validaÃ§Ã£o robusto** - ProteÃ§Ã£o completa contra erros de caracteres

### ğŸ”§ Admin Panel (Novo!)
- **Dashboard estatÃ­stico** com mÃ©tricas em tempo real
- **Gerenciamento de usuÃ¡rios** - visualizaÃ§Ã£o e controle de contas
- **Controle de assinaturas** - status, tipos, valores e datas
- **AnÃ¡lise financeira** - receita mensal e total de conversÃµes
- **AutenticaÃ§Ã£o segura** com role-based access control

**Acesso Admin:**
- URL: `/admin`
- Emails autorizados: Consulte `docs/admin/ADMIN_GUIDE.md`
- ConfiguraÃ§Ã£o: Veja documentaÃ§Ã£o completa em `docs/admin/`

### ğŸŒ Sistema de Acesso PÃºblico (Janeiro 2025)
- **NavegaÃ§Ã£o Livre**: UsuÃ¡rios podem explorar loja e dashboard sem login obrigatÃ³rio
- **Modal de AutenticaÃ§Ã£o**: Sistema elegante que aparece apenas quando necessÃ¡rio
- **PreservaÃ§Ã£o de IntenÃ§Ã£o**: ApÃ³s login, executa automaticamente a aÃ§Ã£o pretendida
- **ExperiÃªncia Suave**: TransiÃ§Ã£o sem interrupÃ§Ãµes entre acesso pÃºblico e autenticado
- **Rotas Inteligentes**: Sistema diferencia automaticamente conteÃºdo pÃºblico vs protegido

### ğŸ’° SincronizaÃ§Ã£o de PreÃ§os (Janeiro 2025)
- **PreÃ§os DinÃ¢micos**: Sistema agora usa preÃ§os diretamente do banco de dados
- **SincronizaÃ§Ã£o Admin-Store**: AlteraÃ§Ãµes no painel admin refletem instantaneamente na loja
- **Cache Invalidation**: AtualizaÃ§Ã£o automÃ¡tica de preÃ§os em tempo real
- **Fim dos Hardcoded**: Removidos todos os valores fixos do cÃ³digo

### ğŸ›¡ï¸ Sistema de ValidaÃ§Ã£o Robusto (Janeiro 2025)
- **ProteÃ§Ã£o 3 Camadas**: ValidaÃ§Ã£o no frontend, backend e banco de dados
- **Contadores Visuais**: Indicadores de caracteres em tempo real nos formulÃ¡rios
- **Limites Aumentados**: Campos do banco expandidos para suportar nomes longos
- **Mensagens EspecÃ­ficas**: Erros claros e informativos para o usuÃ¡rio
- **Zero Erros de Caracteres**: Nunca mais "value too long for type character varying"

## ğŸš€ Chat System Improvements (September 2025)
- **Real-time Updates**: Fixed AI responses appearing instantly without page refresh
- **Race Condition Prevention**: Implemented AbortController to cancel pending requests
- **Conversation Switching**: Added 200ms debounce to prevent rapid-fire switching issues
- **Message Synchronization**: Immediate message clearing when switching conversations
- **State Management**: Added `isTransitioning` state to prevent concurrent operations
- **Conversation Deletion**: Complete implementation with visual feedback and confirmation
- **Error Handling**: Improved error management for chat operations
- **Performance**: Optimized message loading and sending processes

## ğŸŒ URLs de ProduÃ§Ã£o
- **Site Principal**: https://neuroialab.com.br
- **Backend API**: https://neuro-pro-backend-phi.vercel.app
- **Status**: âœ… Totalmente operacional com chat em tempo real

## ğŸ—ï¸ Status do Desenvolvimento

**âœ… PROJETO COMPLETO E FUNCIONAL - Janeiro 2025**

Todas as 6 fases foram implementadas com sucesso:

1. âœ… **Fase 1**: ConfiguraÃ§Ã£o e Infraestrutura - *Completa*
2. âœ… **Fase 2**: AutenticaÃ§Ã£o e Base do Sistema - *Completa*
3. âœ… **Fase 3**: Sistema de Assistentes e Chat - *Completa*
4. âœ… **Fase 4**: Sistema de Pagamentos - *Completa*
5. âœ… **Fase 5**: Painel Administrativo e FinalizaÃ§Ã£o - *Completa*
6. âœ… **Fase 6**: Acesso PÃºblico e OtimizaÃ§Ãµes - *Completa*

**Status Atual**: ğŸ‰ **PROJETO COMPLETO E OTIMIZADO** - Todas as funcionalidades implementadas e operacionais com melhorias avanÃ§adas

---

**NeuroIA Lab** - Democratizando o acesso a assistentes de IA especializados em psicologia.